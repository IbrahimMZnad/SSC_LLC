<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- FORM VIEW -->
    <record id="view_stock_transfer_report_form" model="ir.ui.view">
        <field name="name">stock.transfer.report.form</field>
        <field name="model">stock.transfer.report</field>
        <field name="arch" type="xml">
            <form string="Stock Transfer Report">
                <sheet>

                    <!-- HEADER -->
                    <div style="background-color:#1F618D; padding:14px; border-radius:12px; color:white; text-align:center; margin-bottom:20px;">
                        <h2 style="margin:0;">ðŸ“¦ Stock Transfer Report</h2>
                    </div>

                    <!-- Store Info -->
                    <group style="background-color:#F8F9F9; border-radius:10px; padding:15px; margin-bottom:15px;">
                        <group>
                            <field name="store" style="font-weight:bold;"/>
                            <field name="company"/>
                        </group>
                    </group>

                    <!-- Fetch Button -->
                    <div class="text-center" style="margin-bottom:25px;">
                        <button name="action_fetch_transactions"
                                string="ðŸ”„ Fetch All Transactions"
                                type="object"
                                class="btn btn-primary"
                                style="background-color:#2E86C1; color:white; font-weight:bold; border-radius:8px; padding:10px 25px;"/>
                    </div>

                    <!-- NOTEBOOK -->
                    <notebook>

                        <!-- OUTGOING -->
                        <page string="ðŸ“¤ Outgoing Lines" style="background-color:#FEF5E7;">
                            <group>
                                <field name="outgoing_lines" nolabel="1">
                                    <div style="display:grid; grid-template-columns: repeat(7, 1fr); background-color:#FADBD8; font-weight:bold; padding:8px; border-radius:8px; text-align:center;">
                                        <span>Description</span>
                                        <span>Item</span>
                                        <span>Serial No.</span>
                                        <span>Unit</span>
                                        <span>Type</span>
                                        <span>Date</span>
                                        <span>Quantity</span>
                                    </div>

                                    <div t-foreach="record.outgoing_lines" t-as="line"
                                         style="display:grid; grid-template-columns: repeat(7, 1fr); background-color:#FCF3CF; padding:8px; border-radius:8px; margin-top:5px; text-align:center;">
                                        <span><t t-esc="line.description"/></span>
                                        <span><t t-esc="line.item.display_name"/></span>
                                        <span><t t-esc="line.item_serial_no"/></span>
                                        <span><t t-esc="line.unit"/></span>
                                        <span><t t-esc="line.type_of_material.display_name"/></span>
                                        <span><t t-esc="line.date"/></span>
                                        <span><t t-esc="line.quantity"/></span>
                                    </div>
                                </field>
                            </group>
                        </page>

                        <!-- INCOMING -->
                        <page string="ðŸ“¥ Incoming Lines" style="background-color:#E8F8F5;">
                            <group>
                                <field name="incoming_lines" nolabel="1">
                                    <div style="display:grid; grid-template-columns: repeat(7, 1fr); background-color:#ABEBC6; font-weight:bold; padding:8px; border-radius:8px; text-align:center;">
                                        <span>Description</span>
                                        <span>Item</span>
                                        <span>Serial No.</span>
                                        <span>Unit</span>
                                        <span>Type</span>
                                        <span>Date</span>
                                        <span>Quantity</span>
                                    </div>

                                    <div t-foreach="record.incoming_lines" t-as="line"
                                         style="display:grid; grid-template-columns: repeat(7, 1fr); background-color:#D1F2EB; padding:8px; border-radius:8px; margin-top:5px; text-align:center;">
                                        <span><t t-esc="line.description"/></span>
                                        <span><t t-esc="line.item.display_name"/></span>
                                        <span><t t-esc="line.item_serial_no"/></span>
                                        <span><t t-esc="line.unit"/></span>
                                        <span><t t-esc="line.type_of_material.display_name"/></span>
                                        <span><t t-esc="line.date"/></span>
                                        <span><t t-esc="line.quantity"/></span>
                                    </div>
                                </field>
                            </group>
                        </page>

                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- LIST VIEW -->
    <record id="view_stock_transfer_report_list" model="ir.ui.view">
        <field name="name">stock.transfer.report.list</field>
        <field name="model">stock.transfer.report</field>
        <field name="arch" type="xml">
            <list string="Stock Transfer Reports" create="false" edit="false">
                <field name="store" string="ðŸ  Store"/>
                <field name="company" string="ðŸ¢ Company"/>
            </list>
        </field>
    </record>

    <!-- ACTION -->
    <record id="action_stock_transfer_report" model="ir.actions.act_window">
        <field name="name">Stock Transfer Reports</field>
        <field name="res_model">stock.transfer.report</field>
        <field name="view_mode">list,form</field>
        <field name="view_id" ref="view_stock_transfer_report_list"/>
    </record>

    <!-- MENU -->
    <menuitem id="menu_stock_transfer_report_root" name="Stock Transfer Reports"/>
    <menuitem id="menu_stock_transfer_report_main" name="Reports" parent="menu_stock_transfer_report_root" action="action_stock_transfer_report"/>
</odoo>
